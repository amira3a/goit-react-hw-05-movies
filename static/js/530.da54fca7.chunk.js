"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[530],{530:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(439),s=n(791),a="Movies_movieList__UibTY",c="Movies_searchForm__H4jJ4",i=n(87),o=n(689),u=n(184);var l=function(){var e=(0,o.TH)(),t=(0,s.useState)(""),n=(0,r.Z)(t,2),l=n[0],h=n[1],f=(0,s.useState)([]),d=(0,r.Z)(f,2),m=d[0],v=d[1],p=(0,s.useState)(!1),_=(0,r.Z)(p,2),j=_[0],x=_[1],b=(0,i.lr)(),g=(0,r.Z)(b,2),k=g[0],y=g[1];return(0,s.useEffect)((function(){var e=k.get("query");e&&(x(!0),fetch("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&api_key=").concat("605d61cf3adf4a00957fd8ad779797b5")).then((function(e){return e.json()})).then((function(e){v(e.results),x(!1)})).catch((function(e){return console.log(e)})))}),[k]),console.log("movies",e),(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:"Search Movies"}),(0,u.jsxs)("form",{className:c,onSubmit:function(e){e.preventDefault(),e&&y({query:l})},children:[(0,u.jsx)("input",{type:"text",value:l,onChange:function(e){h(e.target.value)}}),(0,u.jsx)("button",{type:"submit",children:"Search"})]}),j?(0,u.jsx)("div",{children:"Loading..."}):(0,u.jsx)("ul",{className:a,children:m.map((function(t){return(0,u.jsx)("li",{children:(0,u.jsxs)(i.rU,{to:"/movies/".concat(t.id),state:{from:e.pathname+e.search},children:[t.title," (",t.release_date.substring(0,4),")"]})},t.id)}))})]})}}}]);
//# sourceMappingURL=530.da54fca7.chunk.js.map