{"version":3,"file":"static/js/530.da54fca7.chunk.js","mappings":"yMACA,EAA4B,0BAA5B,EAAmE,2B,0BC2EnE,MArEA,WACE,IAAMA,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAkCJ,EAAAA,EAAAA,WAAS,GAA3C,eAAOK,EAAP,KAAkBC,EAAlB,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAqCA,OAlBAC,EAAAA,EAAAA,YAAU,WACR,IAAIT,EAAQO,EAAaG,IAAI,SACxBV,IAILK,GAAa,GACbM,MAAM,mDAAD,OAAoDX,EAApD,oBA3BS,qCA4BXY,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,SAAAG,GACJZ,EAAUY,EAAKC,SACfX,GAAa,EACd,IACAY,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAhB,IACf,GAAE,CAACX,IAEJY,QAAQC,IAAI,SAAUvB,IAGpB,4BACE,2CACA,kBAAMwB,UAAWC,EAAkBC,SA7BlB,SAAAC,GACnBA,EAAMC,iBACDD,GAGLhB,EAAgB,CAAER,MAAOA,GAC1B,EAuBG,WACE,kBAAO0B,KAAK,OAAOC,MAAO3B,EAAO4B,SApClB,SAAAJ,GACnBvB,EAASuB,EAAMK,OAAOF,MACvB,KAmCK,mBAAQD,KAAK,SAAb,uBAEDtB,GACC,yCAEA,eAAIiB,UAAWC,EAAf,SACGpB,EAAO4B,KAAI,SAAAC,GAAK,OACf,yBACE,UAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAC3BC,MAAO,CAACC,KAAMtC,EAASuC,SAAWvC,EAASwC,QAD3C,UAGGN,EAAMO,MAHT,KAGkBP,EAAMQ,aAAaC,UAAU,EAAG,GAHlD,QADOT,EAAME,GADA,QAa1B,C","sources":["webpack://react-homework-template/./src/pages/Movies.module.css?d157","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"Movies_movieList__UibTY\",\"searchForm\":\"Movies_searchForm__H4jJ4\"};","import { useState, useEffect } from 'react';\nimport style from \"./Movies.module.css\";\nimport { Link } from \"react-router-dom\";\nimport { useSearchParams } from 'react-router-dom';\nimport { useLocation} from \"react-router-dom\";\n\n\nfunction Movies() {\n  const location = useLocation();\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const API_KEY = '605d61cf3adf4a00957fd8ad779797b5';\n  const [searchParams, setSearchParams] = useSearchParams();\n  \n  \n  \n\n  const handleChange = event => {\n    setQuery(event.target.value);\n  };\n\n  \n  \n  const handleSubmit = event => {\n    event.preventDefault();\n    if (!event) {\n      return;\n    }\n    setSearchParams({ query: query });\n  };\n\n  useEffect(() => {\n    let query = searchParams.get('query');\n    if (!query) {\n      return;\n    }\n\n    setIsLoading(true);\n    fetch(`https://api.themoviedb.org/3/search/movie?query=${query}&api_key=${API_KEY}`)\n      .then(response => response.json())\n      .then(data => {\n        setMovies(data.results);\n        setIsLoading(false);\n      })\n      .catch(error => console.log(error));\n  }, [searchParams]);\n\n  console.log(\"movies\", location);\n\n  return (\n    <div>\n      <h1>Search Movies</h1>\n      <form className={style.searchForm} onSubmit={handleSubmit}>\n        <input type=\"text\" value={query} onChange={handleChange} />\n        <button type=\"submit\">Search</button>\n      </form>\n      {isLoading ? (\n        <div>Loading...</div>\n      ) : (\n        <ul className={style.movieList}>\n          {movies.map(movie => (\n            <li key={movie.id}>\n              <Link to={`/movies/${movie.id}`}\n              state={{from: location.pathname + location.search}}\n              >\n                {movie.title} ({movie.release_date.substring(0, 4)})\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default Movies;"],"names":["location","useLocation","useState","query","setQuery","movies","setMovies","isLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","useEffect","get","fetch","then","response","json","data","results","catch","error","console","log","className","style","onSubmit","event","preventDefault","type","value","onChange","target","map","movie","to","id","state","from","pathname","search","title","release_date","substring"],"sourceRoot":""}